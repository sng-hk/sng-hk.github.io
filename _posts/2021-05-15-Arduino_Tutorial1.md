---
title: "Arduino - 기초 1"
layout: single
classes: wide
tags: [Arduino]
---
  
에뮬레이션 : 직렬 통신을 하드웨어 모양을 흉내내는 것.  
예전 세대에서는 직렬 통신을 하드웨어 적으로 구현함. 현재에는 sw로 구현  
직렬 통신이 연결되려면 com 포트를 열어줘야 함.  
  
pc에서 usb 케이블을 연결하게 되면,  
데이터를 보내고 받는 방법은 직렬 통신 방법.  
  
직렬 통신 프로그램이 돌면서, 포트를 연결함.  
pc와 아두이노 프로세서간 데이터 전송 돕는 장치 : ch340  
pc에서는 ch340이 뭔지 모르기 때문에 CH340용 드라이버를 설치해줘야 함.  
ft232는 기존 모델용이였지만 최근에는 ch340을 사용.  
  
시리얼 통신 = 직렬 통신  
  
예제 코드는  
아두이노 홈페이지에서 or 아두이노 ide에서 파일 -> 예제 클릭  
  
## 아두이노 프로그램 전체적인 구조  
아두이노 프로그램은 c언어와 유사.  
아두이노 라이브러리는 c언어로 작성됐다.  

```cpp
// 전처리
// 라이브러리 불러오기
// 매크로 선언
// 변수 선언

void setup() { // 프로그램 실행 시 처음 한 번만 동작.
// 명령어
}

void loop() { // 프로그램을 실행하는 동안 계속해서 동작.
// 명령어
}
```
  
## 함수  
1. 프로그램을 쉽고 간결하게 표현.  
2. 생산성을 높인다.  

```
자료형 함수 이름(매개변수) {
    명령어
    (return)
}
```
  
## 변수  
데이터를 저장하는 메모리에 공간을 선언 변수를 사용하기 전 선언하여야 함.  
  
byte : 1byte  
문자형  
char : 1byte  
정수형  
short : 2byte  
int : 2byte  
long : 2byte  
실수형  
float : 4byte  
double : 4byte  
  
## 매크로 선언  
컴파일러가 프로그램에서 문자를 치환한다.  
`#define`은 프로그램 컴파일 전에 프로그래머가 상수 값에 이름을 주는 것을 허용한다.  
  
```cpp
#define port 10
#define LED_BUILTIN 13

pinMode(port, OUTPUT);
pinMode(10, OUTPUT);
```
  
```cpp
#define sum (2+10)
#define sum (A+B)
```
  
## 주변 장치와의 연결 및 라이브러리  
주변 장치를 사용하려면 그 주변장치(하드웨어)에 대한 동작을 알고 있어야 한다.  
하지만, 비전문가들은 하드웨어에 대한 지식이 부족할 수 있기때문에 비전문가들도 쉽게  
아두이노 주변장치를 쉽게 사용할 수 있도록 만든 것이 아두이노 라이브러리이다.  
  
* 아두이노 IDE 에서 라이브러리를 설치하는 방법  
`스케치 -> 라이브러리 포함하기 -> 라이브러리 관리...` 클릭  
  
* 외부 라이브러리를 설치하는 방법  
인터넷에서 구글링하여 찾은 ZIP 파일.  
ZIP파일을 다운로딩하여 추가.   

